[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Consultation", 
  "modified": "2018-01-28 19:36:48.980581", 
  "name": "Consultation-Client", 
  "script": "frappe.ui.form.on('Consultation', {\nrefresh: function(frm) {\n\tfrm.add_custom_button(__('Referral'), function() {\n\t\tfrappe.set_route(\"Form\", \"Referral\", \"New Referral\");\n\t},\"Create\");\n}\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Order", 
  "modified": "2018-03-26 22:15:06.980264", 
  "name": "Purchase Order-Client", 
  "script": "\n\nfrappe.ui.form.on('Purchase Order', 'onload', function(frm, cdt, cdn){\n\tfrappe.require([\n\t\t\"assets/erpnext/js/myTable.js\",\n\t \t\"assets/erpnext/css/myTable.css\",\n\t]);\n\t\n\n\n\tvar $wrapper = $(\"div[data-fieldname='supplieritems']\").empty();\n\t$wrapper.html('<div style=\"overflow-x:auto;\"><table id=\"myTable\"  border=\"1\" class=\"display nowrap dataTable dtr-inline\"><tr data-row=\"0\"><td data-row=\"0\" data-col=\"0\"></td><td data-row=\"0\" data-col=\"1\"> </td><td data-row=\"0\" data-col=\"2\"></td> <td data-row=\"0\" data-col=\"3\"><a href=\"javascript:;\" onClick=\"myTable_DelCol(3)\">X</a></td><td data-row=\"0\" data-col=\"4\"></td> <td data-row=\"0\" data-col=\"5\"></td></tr><tr data-row=\"1\"><td data-row=\"1\" data-col=\"0\"></td><td data-row=\"1\" data-col=\"1\"> </td><td data-row=\"1\" data-col=\"2\"></td><td data-row=\"1\" data-col=\"3\"><input type=\"hidden\" class=\"isupplierid\" name=\"isupplierid\" value=\"\"><input type=\"text\" class=\"isupplier3\" name=\"isupplier3\" value=\"\"></td><td data-row=\"1\" data-col=\"4\"></td><td data-row=\"1\" data-col=\"5\"></td></tr><tr data-row=\"2\"><td data-row=\"2\" data-col=\"0\"></td><td data-row=\"2\" data-col=\"1\">Items</td><td data-row=\"2\" data-col=\"2\">Description</td><td data-row=\"2\" data-col=\"3\"><div class=\"text-span\">Qty </div><div class=\"text-span\"> Price</div></td><td data-row=\"2\" data-col=\"4\">Total</td><td data-row=\"2\" data-col=\"5\">Average Price</td></tr><tr class=\"item-row\" data-row=\"3\"><td data-row=\"3\" data-col=\"0\"><a href=\"javascript:;\" onClick=\"myTable_DelRow(3)\">X</a></td><td data-row=\"3\" data-col=\"1\"><input type=\"hidden\" class=\"sitemsid\" name=\"sitemsid\" value=\"\"><input type=\"text\" class=\"sitems\" name=\"sitems\" value=\"\"></td><td data-row=\"3\" data-col=\"2\"><textarea name=\"idesc\" class=\"idesc\"></textarea></td><td data-row=\"3\" data-col=\"3\"><input type=\"text\" class=\"iqty3\" id=\"iqty\" name=\"iqty3\" value=\"0\"><input type=\"text\" name=\"iprice3\" class=\"iprice3\" value=\"0.0\"  id=\"iprice\"></td><td data-row=\"3\" data-col=\"4\"><span class=\"itotal\">0.0</span></td><td data-row=\"3\" data-col=\"5\"><span class=\"avgitotal\">0.0</span></td></tr><tr class=\"item-row\" data-row=\"4\"><td data-row=\"4\" data-col=\"0\"></td><td data-row=\"4\" data-col=\"1\"></td><td data-row=\"4\" data-col=\"2\"></td><td data-row=\"4\" data-col=\"3\"><span class=\"stotal3\">0.0</span></td><td data-row=\"4\" data-col=\"4\"><span class=\"itotal_total\">0.0</span></td><td data-row=\"4\" data-col=\"5\"><span class=\"avgitotal_total\">0.0</span></td></tr></table></div>');\n\nvar awesomplete = new Awesomplete(\".sitems\", {\n \t\t minChars: 1,\n\t\t  maxItems: 5,\n\t\t  autoFirst: true\n\t}); \n\n$(\"#myTable\").on(\"focus\", \".sitems\", function() {\n\t\t\n\t\t$(this).on(\"keyup\", function(){\n\t\t  $.ajax({\n\t\t\t\turl: '/api/resource/Purchase Order Item/?fields=[\"name\", \"item_name\"]&filters=[[\"Purchase Order Item\", \"item_name\", \"LIKE\", \"'+$(this).val()+'\"]]',\n\t\t\t\ttype: 'get',\n\t\t\t\tdataType: 'json'\n\t\t  })\n\t\t  .success(function(data) { console.log(data); \n\t\t\t\tvar list = [];\n\t\t\t\t$.each(data.data, function(key,value) {    \n\t\t\t\t\t\n\t\t\t\t\tlist.push({'label':value.item_name,'value':value.name});    \n\t\t\t\t});  console.log(list);\n\t\t\t\tawesomplete.list = list;\n\t\t  });\n\t\t});\n \t});\n\t\n\n\t});\n\n\n\nfrappe.ui.form.on(\"Purchase Order\", \"add_row\", function(frm) {\n\tAddNewRow();\n});\n\n\nfrappe.ui.form.on(\"Purchase Order\", \"add_column\", function(frm) {\n\tAddNewCol();\n});\n\n\nfrappe.ui.form.on(\"Purchase Order\", \"delete_rows\", function(frm) {\n\tvar tbl = document.getElementById('supllieritemstable'); // table reference\n      \tlastRow = tbl.rows.length - 1,             // set the last row index\n        i;\n   \t // delete rows with index greater then 0\n   \tfor (i = lastRow; i > 0; i--) {\n        \ttbl.deleteRow(i);\n    \t}\n});\n\n\nfrappe.ui.form.on(\"Purchase Order\", \"delete_column\", function(frm) {\n\tvar tbl = document.getElementById('supllieritemstable'); // table reference\n      \tlastCol = tbl.rows[0].cells.length - 1,    // set the last column index\n        i;\n    // delete cells with index greater then 0 (for each row)\n    \tfor (i = 0; i < tbl.rows.length; i++) {\n       \t \tfor (j = lastCol; j > 0; j--) {\n            \ttbl.rows[i].deleteCell(j);\n        \t}\n    \t}\n});\n\n", 
  "script_type": "Client"
 }
]